(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},96640,e=>{"use strict";var t=e.i(43476),a=e.i(46932);let i={critical:"bg-rose-500/20 text-rose-400 border-rose-500/30",warning:"bg-amber-500/20 text-amber-400 border-amber-500/30",success:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",info:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",default:"bg-white/10 text-white/70 border-white/20"},n={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-xs",lg:"px-4 py-1.5 text-sm"};function l({children:e,variant:l="default",size:r="md",pulse:s=!1,icon:o,className:c=""}){return(0,t.jsxs)(a.motion.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`
        inline-flex items-center gap-1.5 rounded-full border font-semibold
        ${i[l]}
        ${n[r]}
        ${c}
      `,children:[s&&(0,t.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,t.jsx)("span",{className:`
              animate-ping absolute inline-flex h-full w-full rounded-full opacity-75
              ${"critical"===l?"bg-rose-400":""}
              ${"warning"===l?"bg-amber-400":""}
              ${"success"===l?"bg-emerald-400":""}
              ${"info"===l?"bg-cyan-400":""}
              ${"default"===l?"bg-white/50":""}
            `}),(0,t.jsx)("span",{className:`
              relative inline-flex rounded-full h-2 w-2
              ${"critical"===l?"bg-rose-500":""}
              ${"warning"===l?"bg-amber-500":""}
              ${"success"===l?"bg-emerald-500":""}
              ${"info"===l?"bg-cyan-500":""}
              ${"default"===l?"bg-white/70":""}
            `})]}),o,e]})}let r={P1_CRITICAL:{label:"Critical",variant:"critical"},P2_HIGH:{label:"High",variant:"warning"},P3_MEDIUM:{label:"Medium",variant:"info"},P4_LOW:{label:"Low",variant:"default"},P5_INFO:{label:"Info",variant:"success"}};function s({priority:e}){let a=r[e];return(0,t.jsx)(l,{variant:a.variant,pulse:"P1_CRITICAL"===e,children:a.label})}let o={ACTIVE:{label:"Active",variant:"success"},SLOW_MOVING:{label:"Slow Moving",variant:"warning"},NON_MOVING:{label:"Non-Moving",variant:"critical"},DEAD_STOCK:{label:"Dead Stock",variant:"critical"}};function c({status:e}){let a=o[e];return(0,t.jsx)(l,{variant:a.variant,pulse:"DEAD_STOCK"===e||"NON_MOVING"===e,children:a.label})}e.s(["Badge",()=>l,"MovementBadge",()=>c,"PriorityBadge",()=>s])},3764,e=>{"use strict";var t=e.i(43476),a=e.i(46932);function i({className:e="",variant:a="rectangular",width:i,height:n}){return(0,t.jsx)("div",{className:`skeleton ${{text:"rounded",circular:"rounded-full",rectangular:"rounded-xl"}[a]} ${e}`,style:{width:i,height:n||("text"===a?"1em":void 0)}})}function n(){return(0,t.jsxs)("div",{className:"glass-card p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i,{width:120,height:16,variant:"text"}),(0,t.jsx)(i,{width:40,height:40,variant:"circular"})]}),(0,t.jsx)(i,{width:80,height:32,variant:"text"}),(0,t.jsx)(i,{width:"100%",height:8,variant:"text"})]})}function l({height:e=300}){return(0,t.jsxs)("div",{className:"glass-card p-6",children:[(0,t.jsx)(i,{width:150,height:20,variant:"text",className:"mb-4"}),(0,t.jsx)("div",{className:"flex items-end gap-2 justify-around",style:{height:e-60},children:[40,65,45,80,55,70,50].map((e,n)=>(0,t.jsx)(a.motion.div,{initial:{height:0},animate:{height:`${e}%`},transition:{duration:.5,delay:.1*n},children:(0,t.jsx)(i,{width:40,height:"100%"})},n))})]})}function r({rows:e=5}){return(0,t.jsxs)("div",{className:"glass-card overflow-hidden",children:[(0,t.jsx)("div",{className:"flex gap-4 p-4 border-b border-white/10",children:[100,150,120,80,100].map((e,a)=>(0,t.jsx)(i,{width:e,height:12,variant:"text"},a))}),Array.from({length:e}).map((e,a)=>(0,t.jsx)("div",{className:"flex gap-4 p-4 border-b border-white/5 last:border-b-0",children:[100,150,120,80,100].map((e,a)=>(0,t.jsx)(i,{width:e,height:16,variant:"text"},a))},a))]})}e.s(["CardSkeleton",()=>n,"ChartSkeleton",()=>l,"TableSkeleton",()=>r])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},40160,e=>{"use strict";let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],40160)},56125,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(46932),n=e.i(86427),l=e.i(83352),r=e.i(83411),s=e.i(87022);function o(e){return"number"==typeof e?e:parseFloat(e)}var c=e.i(37806),d=e.i(47414);function h(e){let t=(0,d.useConstant)(()=>(0,n.motionValue)(e)),{isStatic:i}=(0,a.useContext)(c.MotionConfigContext);if(i){let[,i]=(0,a.useState)(e);(0,a.useEffect)(()=>t.on("change",i),[])}return t}var u=e.i(44230),m=e.i(74008);function x(e,t){let a=h(t()),i=()=>a.set(t());return i(),(0,m.useIsomorphicLayoutEffect)(()=>{let t=()=>s.frame.preRender(i,!1,!0),a=e.map(e=>e.on("change",t));return()=>{a.forEach(e=>e()),(0,s.cancelFrame)(i)}}),a}function g(e,t,a,i){if("function"==typeof e){let t;return n.collectMotionValues.current=[],e(),t=x(n.collectMotionValues.current,e),n.collectMotionValues.current=void 0,t}let l="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),a=t?0:-1,i=e[0+a],n=e[1+a],l=e[2+a],r=e[3+a],s=(0,u.interpolate)(n,l,r);return t?s(i):s}(t,a,i);return Array.isArray(e)?v(e,l):v([e],([e])=>l(e))}function v(e,t){let a=(0,d.useConstant)(()=>[]);return x(e,()=>{a.length=0;let i=e.length;for(let t=0;t<i;t++)a[t]=e[t].get();return t(a)})}var f=e.i(49652);let b={some:0,all:1};function j({value:e,duration:n=2,className:d="",prefix:u="",suffix:m="",decimals:x=0}){let v=(0,a.useRef)(null),j=function(e,{root:t,margin:i,amount:n,once:l=!1,initial:r=!1}={}){let[s,o]=(0,a.useState)(r);return(0,a.useEffect)(()=>{if(!e.current||l&&s)return;let a={root:t&&t.current||void 0,margin:i,amount:n};return function(e,t,{root:a,margin:i,amount:n="some"}={}){let l=(0,f.resolveElements)(e),r=new WeakMap,s=new IntersectionObserver(e=>{e.forEach(e=>{let a=r.get(e.target);if(!!a!==e.isIntersecting)if(e.isIntersecting){let a=t(e.target,e);"function"==typeof a?r.set(e.target,a):s.unobserve(e.target)}else"function"==typeof a&&(a(e),r.delete(e.target))})},{root:a,rootMargin:i,threshold:"number"==typeof n?n:b[n]});return l.forEach(e=>s.observe(e)),()=>s.disconnect()}(e.current,()=>(o(!0),l?void 0:()=>o(!1)),a)},[t,e,i,l,n]),s}(v,{once:!0,margin:"-100px"}),[y,p]=(0,a.useState)(!1),w=function(e,t={}){let{isStatic:i}=(0,a.useContext)(c.MotionConfigContext),n=()=>(0,r.isMotionValue)(0)?0..get():0;if(i)return g(n);let d=h(n());return(0,a.useInsertionEffect)(()=>(function(e,t,a){let i,n=e.get(),c=null,d=n,h="string"==typeof n?n.replace(/[\d.-]/g,""):void 0,u=()=>{c&&(c.stop(),c=null)},m=()=>{u(),c=new l.JSAnimation({keyframes:[o(e.get()),o(d)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...a,onUpdate:i})};if(e.attach((e,t)=>{d=e,i=e=>{var a,i;return t((a=e,(i=h)?a+i:a))},s.frame.postRender(m)},u),(0,r.isMotionValue)(0)){let t=0..on("change",t=>{var a,i;return e.set((a=t,(i=h)?a+i:a))}),a=e.on("destroy",t);return()=>{t(),a()}}return u})(d,0,t),[d,JSON.stringify(t)]),d}(0,{duration:1e3*n,bounce:0}),N=g(w,e=>e.toFixed(x));return(0,a.useEffect)(()=>{j&&!y&&(w.set(e),p(!0))},[j,e,w,y]),(0,t.jsxs)("span",{ref:v,className:d,children:[u,(0,t.jsx)(i.motion.span,{children:N}),m]})}e.s(["AnimatedCounter",()=>j],56125)},13350,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(46932),n=e.i(63327),l=e.i(3374),r=e.i(18635),s=e.i(70505),o=e.i(96640),c=e.i(35586),d=e.i(53175),h=e.i(3764),u=e.i(79704),m=e.i(88844),x=e.i(3116);let g=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var v=e.i(78894),f=e.i(40160),b=e.i(36764),j=e.i(56125),y=e.i(22016);function p(){let[e,p]=(0,a.useState)(),[w,N]=(0,a.useState)(),{data:_,isLoading:C,refetch:M}=(0,u.useNonMoving)({location:e,category:w}),S={total:_?.length||0,slowMoving:_?.filter(e=>"SLOW_MOVING"===e.movement_category).length||0,nonMoving:_?.filter(e=>"NON_MOVING"===e.movement_category).length||0,deadStock:_?.filter(e=>"DEAD_STOCK"===e.movement_category).length||0,totalValue:_?.reduce((e,t)=>e+t.inventory_value,0)||0},k=[{name:"Active",value:_?.filter(e=>"ACTIVE"===e.movement_category).length||0,color:"#10b981"},{name:"Slow Moving",value:S.slowMoving,color:"#06b6d4"},{name:"Non-Moving",value:S.nonMoving,color:"#f59e0b"},{name:"Dead Stock",value:S.deadStock,color:"#f43f5e"}],A=[...new Set(_?.map(e=>e.location_id)||[])],I=A.map(e=>({name:e,value:_?.filter(t=>t.location_id===e&&"ACTIVE"!==t.movement_category).length||0}));return(0,t.jsxs)("div",{className:"flex min-h-screen",children:[(0,t.jsx)(n.Sidebar,{}),(0,t.jsxs)("main",{className:"flex-1 ml-64 p-6",children:[(0,t.jsx)(l.Header,{title:"Non-Moving Inventory",subtitle:"Identify slow-moving and dead stock items",onRefresh:M,isRefreshing:C}),(0,t.jsxs)(r.PageTransition,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,t.jsx)(s.StatCard,{title:"Total Items",value:S.total,icon:(0,t.jsx)(m.Package,{className:"w-6 h-6"}),color:"cyan",delay:0}),(0,t.jsx)(s.StatCard,{title:"Slow Moving",value:S.slowMoving,icon:(0,t.jsx)(x.Clock,{className:"w-6 h-6"}),color:"amber",delay:.1}),(0,t.jsx)(s.StatCard,{title:"Dead Stock",value:S.deadStock,icon:(0,t.jsx)(v.AlertTriangle,{className:"w-6 h-6"}),color:"rose",delay:.2}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"relative overflow-hidden rounded-2xl p-6 bg-gradient-to-br from-violet-500/20 to-violet-500/5 border border-violet-500/30 backdrop-blur-xl",children:[(0,t.jsx)("div",{className:"absolute -top-12 -right-12 w-32 h-32 rounded-full blur-3xl opacity-30 bg-violet-500"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("p",{className:"text-sm text-white/60 font-medium mb-1",children:"At Risk Value"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:["$",(0,t.jsx)(j.AnimatedCounter,{value:S.totalValue,decimals:0})]})]}),(0,t.jsx)(g,{className:"absolute top-4 right-4 w-8 h-8 text-violet-400/50"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-6",children:[(0,t.jsx)("div",{children:C?(0,t.jsx)(h.ChartSkeleton,{height:300}):(0,t.jsx)(c.DonutChart,{data:k,title:"Movement Category",height:250})}),(0,t.jsx)("div",{children:C?(0,t.jsx)(h.ChartSkeleton,{height:300}):(0,t.jsx)(d.AnimatedBarChart,{data:I,title:"Non-Moving by Location",height:250,color:"#8b5cf6"})}),(0,t.jsxs)(s.GlassCard,{className:"p-6",hover:!1,children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Filters"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-white/60 mb-2 block",children:"Location"}),(0,t.jsxs)("select",{value:e||"",onChange:e=>p(e.target.value||void 0),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:border-cyan-500/50",children:[(0,t.jsx)("option",{value:"",children:"All Locations"}),A.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-white/60 mb-2 block",children:"Category"}),(0,t.jsxs)("select",{value:w||"",onChange:e=>N(e.target.value||void 0),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:border-cyan-500/50",children:[(0,t.jsx)("option",{value:"",children:"All Categories"}),(0,t.jsx)("option",{value:"SLOW_MOVING",children:"Slow Moving"}),(0,t.jsx)("option",{value:"NON_MOVING",children:"Non-Moving"}),(0,t.jsx)("option",{value:"DEAD_STOCK",children:"Dead Stock"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)(b.GlowButton,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>{p(void 0),N(void 0)},children:"Clear"}),(0,t.jsx)(b.IconButton,{icon:(0,t.jsx)(f.Download,{className:"w-5 h-5"}),tooltip:"Export CSV",color:"cyan"})]})]})]})]}),(0,t.jsxs)(s.GlassCard,{className:"p-6",hover:!1,children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Non-Moving Inventory Details"}),C?(0,t.jsx)(h.TableSkeleton,{rows:8}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"data-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"SKU ID"}),(0,t.jsx)("th",{children:"Location"}),(0,t.jsx)("th",{children:"Status"}),(0,t.jsx)("th",{children:"Days Since Movement"}),(0,t.jsx)("th",{children:"On Hand Qty"}),(0,t.jsx)("th",{children:"Value"}),(0,t.jsx)("th",{children:"Last Movement"}),(0,t.jsx)("th",{children:"Action"})]})}),(0,t.jsx)("tbody",{children:_?.filter(e=>"ACTIVE"!==e.movement_category).slice(0,20).map((e,a)=>(0,t.jsxs)(i.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.03*a},children:[(0,t.jsx)("td",{children:(0,t.jsx)(y.default,{href:`/sku/${e.item_id}`,className:"text-cyan-400 hover:text-cyan-300 font-medium",children:e.item_id})}),(0,t.jsx)("td",{className:"text-white/70",children:e.location_id}),(0,t.jsx)("td",{children:(0,t.jsx)(o.MovementBadge,{status:e.movement_category})}),(0,t.jsx)("td",{children:(0,t.jsxs)("span",{className:`font-medium ${e.days_since_last_movement>180?"text-rose-400":e.days_since_last_movement>90?"text-amber-400":"text-cyan-400"}`,children:[e.days_since_last_movement," days"]})}),(0,t.jsx)("td",{className:"text-white",children:e.on_hand_quantity.toLocaleString()}),(0,t.jsxs)("td",{className:"text-white",children:["$",e.inventory_value.toLocaleString()]}),(0,t.jsx)("td",{className:"text-white/50 text-sm",children:new Date(e.last_movement_date).toLocaleDateString()}),(0,t.jsx)("td",{children:(0,t.jsx)(y.default,{href:`/sku/${e.item_id}`,children:(0,t.jsx)(b.GlowButton,{variant:"secondary",size:"sm",children:"View"})})})]},`${e.item_id}-${e.location_id}`))})]})})]})]})]})]})}e.s(["default",()=>p],13350)}]);