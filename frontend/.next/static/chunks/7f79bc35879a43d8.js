(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},96640,e=>{"use strict";var t=e.i(43476),i=e.i(46932);let l={critical:"bg-rose-500/20 text-rose-400 border-rose-500/30",warning:"bg-amber-500/20 text-amber-400 border-amber-500/30",success:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",info:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",default:"bg-white/10 text-white/70 border-white/20"},a={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-xs",lg:"px-4 py-1.5 text-sm"};function r({children:e,variant:r="default",size:s="md",pulse:n=!1,icon:o,className:c=""}){return(0,t.jsxs)(i.motion.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`
        inline-flex items-center gap-1.5 rounded-full border font-semibold
        ${l[r]}
        ${a[s]}
        ${c}
      `,children:[n&&(0,t.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,t.jsx)("span",{className:`
              animate-ping absolute inline-flex h-full w-full rounded-full opacity-75
              ${"critical"===r?"bg-rose-400":""}
              ${"warning"===r?"bg-amber-400":""}
              ${"success"===r?"bg-emerald-400":""}
              ${"info"===r?"bg-cyan-400":""}
              ${"default"===r?"bg-white/50":""}
            `}),(0,t.jsx)("span",{className:`
              relative inline-flex rounded-full h-2 w-2
              ${"critical"===r?"bg-rose-500":""}
              ${"warning"===r?"bg-amber-500":""}
              ${"success"===r?"bg-emerald-500":""}
              ${"info"===r?"bg-cyan-500":""}
              ${"default"===r?"bg-white/70":""}
            `})]}),o,e]})}let s={P1_CRITICAL:{label:"Critical",variant:"critical"},P2_HIGH:{label:"High",variant:"warning"},P3_MEDIUM:{label:"Medium",variant:"info"},P4_LOW:{label:"Low",variant:"default"},P5_INFO:{label:"Info",variant:"success"}};function n({priority:e}){let i=s[e];return(0,t.jsx)(r,{variant:i.variant,pulse:"P1_CRITICAL"===e,children:i.label})}let o={ACTIVE:{label:"Active",variant:"success"},SLOW_MOVING:{label:"Slow Moving",variant:"warning"},NON_MOVING:{label:"Non-Moving",variant:"critical"},DEAD_STOCK:{label:"Dead Stock",variant:"critical"}};function c({status:e}){let i=o[e];return(0,t.jsx)(r,{variant:i.variant,pulse:"DEAD_STOCK"===e||"NON_MOVING"===e,children:i.label})}e.s(["Badge",()=>r,"MovementBadge",()=>c,"PriorityBadge",()=>n])},3764,e=>{"use strict";var t=e.i(43476),i=e.i(46932);function l({className:e="",variant:i="rectangular",width:l,height:a}){return(0,t.jsx)("div",{className:`skeleton ${{text:"rounded",circular:"rounded-full",rectangular:"rounded-xl"}[i]} ${e}`,style:{width:l,height:a||("text"===i?"1em":void 0)}})}function a(){return(0,t.jsxs)("div",{className:"glass-card p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l,{width:120,height:16,variant:"text"}),(0,t.jsx)(l,{width:40,height:40,variant:"circular"})]}),(0,t.jsx)(l,{width:80,height:32,variant:"text"}),(0,t.jsx)(l,{width:"100%",height:8,variant:"text"})]})}function r({height:e=300}){return(0,t.jsxs)("div",{className:"glass-card p-6",children:[(0,t.jsx)(l,{width:150,height:20,variant:"text",className:"mb-4"}),(0,t.jsx)("div",{className:"flex items-end gap-2 justify-around",style:{height:e-60},children:[40,65,45,80,55,70,50].map((e,a)=>(0,t.jsx)(i.motion.div,{initial:{height:0},animate:{height:`${e}%`},transition:{duration:.5,delay:.1*a},children:(0,t.jsx)(l,{width:40,height:"100%"})},a))})]})}function s({rows:e=5}){return(0,t.jsxs)("div",{className:"glass-card overflow-hidden",children:[(0,t.jsx)("div",{className:"flex gap-4 p-4 border-b border-white/10",children:[100,150,120,80,100].map((e,i)=>(0,t.jsx)(l,{width:e,height:12,variant:"text"},i))}),Array.from({length:e}).map((e,i)=>(0,t.jsx)("div",{className:"flex gap-4 p-4 border-b border-white/5 last:border-b-0",children:[100,150,120,80,100].map((e,i)=>(0,t.jsx)(l,{width:e,height:16,variant:"text"},i))},i))]})}e.s(["CardSkeleton",()=>a,"ChartSkeleton",()=>r,"TableSkeleton",()=>s])},78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},88653,63209,52571,e=>{"use strict";e.i(47167);var t=e.i(43476),i=e.i(71645),l=e.i(31178),a=e.i(47414),r=e.i(74008),s=e.i(21476),n=e.i(72846),o=i,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class h extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=(0,n.isHTMLElement)(e)&&e.offsetWidth||0,l=this.props.sizeRef.current;l.height=t.offsetHeight||0,l.width=t.offsetWidth||0,l.top=t.offsetTop,l.left=t.offsetLeft,l.right=i-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:l,anchorX:a,root:r}){let s=(0,o.useId)(),n=(0,o.useRef)(null),m=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,o.useContext)(c.MotionConfigContext),x=function(...e){return i.useCallback(function(...e){return t=>{let i=!1,l=e.map(e=>{let l=d(e,t);return i||"function"!=typeof l||(i=!0),l});if(i)return()=>{for(let t=0;t<l.length;t++){let i=l[t];"function"==typeof i?i():d(e[t],null)}}}}(...e),e)}(n,e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:o,right:c}=m.current;if(l||!n.current||!e||!t)return;let d="left"===a?`left: ${o}`:`right: ${c}`;n.current.dataset.motionPopId=s;let h=document.createElement("style");u&&(h.nonce=u);let x=r??document.head;return x.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${i}px !important;
          }
        `),()=>{x.contains(h)&&x.removeChild(h)}},[l]),(0,t.jsx)(h,{isPresent:l,childRef:n,sizeRef:m,children:o.cloneElement(e,{ref:x})})}let u=({children:e,initial:l,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:c,mode:d,anchorX:h,root:u})=>{let f=(0,a.useConstant)(x),p=(0,i.useId)(),g=!0,v=(0,i.useMemo)(()=>(g=!1,{id:p,initial:l,isPresent:r,custom:o,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;n&&n()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[r,f,n]);return c&&g&&(v={...v}),(0,i.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[r]),i.useEffect(()=>{r||f.size||!n||n()},[r]),"popLayout"===d&&(e=(0,t.jsx)(m,{isPresent:r,anchorX:h,root:u,children:e})),(0,t.jsx)(s.PresenceContext.Provider,{value:v,children:e})};function x(){return new Map}var f=e.i(64978);let p=e=>e.key||"";function g(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let v=({children:e,custom:s,initial:n=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:h=!1,anchorX:m="left",root:x})=>{let[v,j]=(0,f.usePresence)(h),y=(0,i.useMemo)(()=>g(e),[e]),b=h&&!v?[]:y.map(p),w=(0,i.useRef)(!0),N=(0,i.useRef)(y),C=(0,a.useConstant)(()=>new Map),[P,k]=(0,i.useState)(y),[_,I]=(0,i.useState)(y);(0,r.useIsomorphicLayoutEffect)(()=>{w.current=!1,N.current=y;for(let e=0;e<_.length;e++){let t=p(_[e]);b.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[_,b.length,b.join("-")]);let A=[];if(y!==P){let e=[...y];for(let t=0;t<_.length;t++){let i=_[t],l=p(i);b.includes(l)||(e.splice(t,0,i),A.push(i))}return"wait"===d&&A.length&&(e=A),I(g(e)),k(y),null}let{forceRender:M}=(0,i.useContext)(l.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:_.map(e=>{let i=p(e),l=(!h||!!v)&&(y===_||b.includes(i));return(0,t.jsx)(u,{isPresent:l,initial:(!w.current||!!n)&&void 0,custom:s,presenceAffectsLayout:c,mode:d,root:x,onExitComplete:l?void 0:()=>{if(!C.has(i))return;C.set(i,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(M?.(),I(N.current),h&&j?.(),o&&o())},anchorX:m,children:e},i)})})};e.s(["AnimatePresence",()=>v],88653);var j=e.i(75254);let y=(0,j.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>y],63209);let b=(0,j.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>b],52571)},5028,e=>{"use strict";var t=e.i(43476),i=e.i(71645),l=e.i(46932),a=e.i(88653),r=e.i(63327),s=e.i(3374),n=e.i(18635),o=e.i(70505),c=e.i(96640),d=e.i(53175),h=e.i(3764),m=e.i(79704),u=e.i(45423),x=e.i(78894),f=e.i(63209),p=e.i(52571),g=e.i(69638),v=e.i(3116);let j=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var y=e.i(36764),b=e.i(22016);let w={P1_CRITICAL:(0,t.jsx)(x.AlertTriangle,{className:"w-5 h-5"}),P2_HIGH:(0,t.jsx)(f.AlertCircle,{className:"w-5 h-5"}),P3_MEDIUM:(0,t.jsx)(p.Info,{className:"w-5 h-5"}),P4_LOW:(0,t.jsx)(g.CheckCircle,{className:"w-5 h-5"}),P5_INFO:(0,t.jsx)(p.Info,{className:"w-5 h-5"})},N={P1_CRITICAL:"from-rose-500/20 to-rose-500/5 border-rose-500/30 text-rose-400",P2_HIGH:"from-amber-500/20 to-amber-500/5 border-amber-500/30 text-amber-400",P3_MEDIUM:"from-cyan-500/20 to-cyan-500/5 border-cyan-500/30 text-cyan-400",P4_LOW:"from-violet-500/20 to-violet-500/5 border-violet-500/30 text-violet-400",P5_INFO:"from-emerald-500/20 to-emerald-500/5 border-emerald-500/30 text-emerald-400"};function C(){let[e,C]=(0,i.useState)(),[P,k]=(0,i.useState)(!0),[_,I]=(0,i.useState)(null),{data:A,isLoading:M,refetch:$}=(0,m.useAlerts)({priority:e,active_only:P}),S={total:A?.length||0,critical:A?.filter(e=>"P1_CRITICAL"===e.priority).length||0,high:A?.filter(e=>"P2_HIGH"===e.priority).length||0,medium:A?.filter(e=>"P3_MEDIUM"===e.priority).length||0,low:A?.filter(e=>"P4_LOW"===e.priority).length||0},L=[{name:"Critical",value:S.critical,color:"#f43f5e"},{name:"High",value:S.high,color:"#f59e0b"},{name:"Medium",value:S.medium,color:"#06b6d4"},{name:"Low",value:S.low,color:"#8b5cf6"}];return(0,t.jsxs)("div",{className:"flex min-h-screen",children:[(0,t.jsx)(r.Sidebar,{}),(0,t.jsxs)("main",{className:"flex-1 ml-64 p-6",children:[(0,t.jsx)(s.Header,{title:"Alert Center",subtitle:"Monitor and manage inventory alerts",onRefresh:$,isRefreshing:M}),(0,t.jsxs)(n.PageTransition,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[(0,t.jsx)(o.StatCard,{title:"Total Alerts",value:S.total,icon:(0,t.jsx)(u.Bell,{className:"w-6 h-6"}),color:"cyan",delay:0}),(0,t.jsx)(o.StatCard,{title:"Critical",value:S.critical,icon:(0,t.jsx)(x.AlertTriangle,{className:"w-6 h-6"}),color:"rose",delay:.1}),(0,t.jsx)(o.StatCard,{title:"High",value:S.high,icon:(0,t.jsx)(f.AlertCircle,{className:"w-6 h-6"}),color:"amber",delay:.2}),(0,t.jsx)(o.StatCard,{title:"Medium",value:S.medium,icon:(0,t.jsx)(p.Info,{className:"w-6 h-6"}),color:"cyan",delay:.3}),(0,t.jsx)(o.StatCard,{title:"Low",value:S.low,icon:(0,t.jsx)(g.CheckCircle,{className:"w-6 h-6"}),color:"violet",delay:.4})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-6",children:[(0,t.jsx)("div",{children:M?(0,t.jsx)(h.ChartSkeleton,{height:280}):(0,t.jsx)(d.AnimatedBarChart,{data:L,title:"Alerts by Priority",height:230})}),(0,t.jsx)("div",{className:"xl:col-span-2",children:(0,t.jsxs)(o.GlassCard,{className:"p-6 h-full",hover:!1,children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Filters"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-white/60 mb-2 block",children:"Priority"}),(0,t.jsxs)("select",{value:e||"",onChange:e=>C(e.target.value||void 0),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:border-cyan-500/50 min-w-[150px]",children:[(0,t.jsx)("option",{value:"",children:"All Priorities"}),(0,t.jsx)("option",{value:"P1_CRITICAL",children:"Critical"}),(0,t.jsx)("option",{value:"P2_HIGH",children:"High"}),(0,t.jsx)("option",{value:"P3_MEDIUM",children:"Medium"}),(0,t.jsx)("option",{value:"P4_LOW",children:"Low"}),(0,t.jsx)("option",{value:"P5_INFO",children:"Info"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-white/60 mb-2 block",children:"Status"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(y.GlowButton,{variant:P?"primary":"secondary",size:"md",onClick:()=>k(!0),children:"Active"}),(0,t.jsx)(y.GlowButton,{variant:P?"secondary":"primary",size:"md",onClick:()=>k(!1),children:"All"})]})]}),(0,t.jsx)(y.GlowButton,{variant:"secondary",size:"md",onClick:()=>{C(void 0),k(!0)},className:"ml-auto",children:"Clear Filters"})]})]})})]}),(0,t.jsxs)(o.GlassCard,{className:"p-6",hover:!1,children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Alert Feed"}),M?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,i)=>(0,t.jsx)("div",{className:"h-24 skeleton rounded-xl"},i))}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(a.AnimatePresence,{children:A?.map((e,i)=>(0,t.jsx)(l.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:.05*i},layout:!0,children:(0,t.jsx)(l.motion.div,{className:`
                          p-4 rounded-xl border cursor-pointer
                          bg-gradient-to-r ${N[e.priority]}
                          hover:scale-[1.01] transition-transform
                        `,onClick:()=>I(_===e.alert_id?null:e.alert_id),children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-white/10",children:w[e.priority]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(b.default,{href:`/sku/${e.item_id}`,className:"font-semibold text-white hover:text-cyan-400 transition-colors",onClick:e=>e.stopPropagation(),children:e.item_id}),(0,t.jsx)(c.PriorityBadge,{priority:e.priority}),!e.is_active&&(0,t.jsx)(c.Badge,{variant:"default",children:"Resolved"})]}),(0,t.jsx)("p",{className:"text-white/80",children:e.message}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-white/50",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(v.Clock,{className:"w-3 h-3"}),new Date(e.created_at).toLocaleString()]}),(0,t.jsx)("span",{children:e.location_id}),(0,t.jsx)(c.Badge,{variant:"info",size:"sm",children:e.alert_type})]}),(0,t.jsx)(a.AnimatePresence,{children:_===e.alert_id&&(0,t.jsx)(l.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-white/10",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(b.default,{href:`/sku/${e.item_id}`,children:(0,t.jsx)(y.GlowButton,{size:"sm",children:"View SKU"})}),(0,t.jsx)(y.GlowButton,{variant:"secondary",size:"sm",children:"Acknowledge"}),(0,t.jsx)(y.GlowButton,{variant:"success",size:"sm",children:"Resolve"})]})})})})]}),(0,t.jsx)(l.motion.div,{animate:{rotate:45*(_===e.alert_id)},children:(0,t.jsx)(j,{className:"w-5 h-5 text-white/30"})})]})})},e.alert_id))}),A?.length===0&&(0,t.jsxs)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,t.jsx)(g.CheckCircle,{className:"w-16 h-16 text-emerald-400/50 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-white/60 text-lg",children:"No alerts to display"}),(0,t.jsx)("p",{className:"text-white/40 text-sm mt-1",children:"All systems operating normally"})]})]})]})]})]})]})}e.s(["default",()=>C],5028)}]);