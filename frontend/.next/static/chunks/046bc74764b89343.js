(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},3764,e=>{"use strict";var t=e.i(43476),a=e.i(46932);function s({className:e="",variant:a="rectangular",width:s,height:i}){return(0,t.jsx)("div",{className:`skeleton ${{text:"rounded",circular:"rounded-full",rectangular:"rounded-xl"}[a]} ${e}`,style:{width:s,height:i||("text"===a?"1em":void 0)}})}function i(){return(0,t.jsxs)("div",{className:"glass-card p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(s,{width:120,height:16,variant:"text"}),(0,t.jsx)(s,{width:40,height:40,variant:"circular"})]}),(0,t.jsx)(s,{width:80,height:32,variant:"text"}),(0,t.jsx)(s,{width:"100%",height:8,variant:"text"})]})}function r({height:e=300}){return(0,t.jsxs)("div",{className:"glass-card p-6",children:[(0,t.jsx)(s,{width:150,height:20,variant:"text",className:"mb-4"}),(0,t.jsx)("div",{className:"flex items-end gap-2 justify-around",style:{height:e-60},children:[40,65,45,80,55,70,50].map((e,i)=>(0,t.jsx)(a.motion.div,{initial:{height:0},animate:{height:`${e}%`},transition:{duration:.5,delay:.1*i},children:(0,t.jsx)(s,{width:40,height:"100%"})},i))})]})}function l({rows:e=5}){return(0,t.jsxs)("div",{className:"glass-card overflow-hidden",children:[(0,t.jsx)("div",{className:"flex gap-4 p-4 border-b border-white/10",children:[100,150,120,80,100].map((e,a)=>(0,t.jsx)(s,{width:e,height:12,variant:"text"},a))}),Array.from({length:e}).map((e,a)=>(0,t.jsx)("div",{className:"flex gap-4 p-4 border-b border-white/5 last:border-b-0",children:[100,150,120,80,100].map((e,a)=>(0,t.jsx)(s,{width:e,height:16,variant:"text"},a))},a))]})}e.s(["CardSkeleton",()=>i,"ChartSkeleton",()=>r,"TableSkeleton",()=>l])},51351,e=>{"use strict";var t=e.i(43476),a=e.i(46932);let s={AX:{bg:"bg-emerald-500/30",text:"text-emerald-300",border:"border-emerald-500/50"},AY:{bg:"bg-emerald-500/20",text:"text-emerald-400",border:"border-emerald-500/30"},AZ:{bg:"bg-amber-500/20",text:"text-amber-400",border:"border-amber-500/30"},BX:{bg:"bg-cyan-500/20",text:"text-cyan-400",border:"border-cyan-500/30"},BY:{bg:"bg-cyan-500/15",text:"text-cyan-400",border:"border-cyan-500/20"},BZ:{bg:"bg-amber-500/25",text:"text-amber-300",border:"border-amber-500/40"},CX:{bg:"bg-violet-500/15",text:"text-violet-400",border:"border-violet-500/20"},CY:{bg:"bg-violet-500/20",text:"text-violet-300",border:"border-violet-500/30"},CZ:{bg:"bg-rose-500/20",text:"text-rose-400",border:"border-rose-500/30"}},i={AX:"High value, stable demand",AY:"High value, variable demand",AZ:"High value, erratic demand",BX:"Medium value, stable demand",BY:"Medium value, variable demand",BZ:"Medium value, erratic demand",CX:"Low value, stable demand",CY:"Low value, variable demand",CZ:"Low value, erratic demand"};function r({data:e,title:r}){let l=["A","B","C"],d=["X","Y","Z"];return(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"glass-card p-6",children:[r&&(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:r}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[(0,t.jsx)("div",{})," ",d.map(e=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-white/70",children:e}),(0,t.jsx)("p",{className:"text-xs text-white/40",children:"X"===e?"Stable":"Y"===e?"Variable":"Erratic"})]},e))]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:l.map(r=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-white/70",children:r}),(0,t.jsx)("p",{className:"text-xs text-white/40",children:"A"===r?"High":"B"===r?"Medium":"Low"})]},`label-${r}`),d.map((d,n)=>{let c,o=`${r}${d}`,x=(c=`${r}${d}`,e.find(e=>e.segment===c)||{segment:c,count:0,percentage:0}),h=s[o];return(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.1*(3*l.indexOf(r)+n),type:"spring",stiffness:200},whileHover:{scale:1.05},className:`
                    ${h.bg} ${h.border}
                    border rounded-xl p-4 text-center cursor-pointer
                    transition-all duration-300 hover:shadow-lg
                  `,title:i[o],children:[(0,t.jsx)("p",{className:`text-2xl font-bold ${h.text}`,children:x.count}),(0,t.jsxs)("p",{className:"text-xs text-white/50 mt-1",children:[x.percentage.toFixed(1),"%"]}),(0,t.jsx)("p",{className:"text-xs text-white/30 mt-0.5",children:o})]},o)})]}))}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-white/10",children:[(0,t.jsx)("p",{className:"text-xs text-white/40 mb-2",children:"ABC: Volume/Value | XYZ: Demand Variability"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-400",children:"Best performers"}),(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-amber-500/20 text-amber-400",children:"Needs attention"}),(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-rose-500/20 text-rose-400",children:"High risk"})]})]})]})}function l({segment:e}){let a=s[e]||{bg:"bg-white/10",text:"text-white/70",border:"border-white/20"};return(0,t.jsx)("span",{className:`
        inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold
        ${a.bg} ${a.text} ${a.border} border
      `,children:e})}e.s(["SegmentBadge",()=>l,"SegmentMatrix",()=>r])},17923,e=>{"use strict";let t=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>t],17923)},47403,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(46932),i=e.i(63327),r=e.i(3374),l=e.i(18635),d=e.i(70505),n=e.i(51351),c=e.i(35586),o=e.i(53175),x=e.i(3764),h=e.i(79704),m=e.i(95444),b=e.i(25652),u=e.i(17923);let g=(0,e.i(75254).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var j=e.i(36764),v=e.i(22016);let p={AX:"#10b981",AY:"#34d399",AZ:"#f59e0b",BX:"#06b6d4",BY:"#22d3ee",BZ:"#fbbf24",CX:"#8b5cf6",CY:"#a78bfa",CZ:"#f43f5e"};function f(){let[e,f]=(0,a.useState)(),{data:y,isLoading:N,refetch:w}=(0,h.useSegmentation)({segment:e}),C=(0,a.useMemo)(()=>y?y.reduce((e,t)=>(e[t.segment]=(e[t.segment]||0)+1,e),{}):{},[y]),S=y?.length||0,A=Object.entries(C).map(([e,t])=>({segment:e,count:t,percentage:S>0?t/S*100:0})),B=(0,a.useMemo)(()=>{if(!y)return[];let e={A:0,B:0,C:0};return y.forEach(t=>e[t.abc_class]=(e[t.abc_class]||0)+1),[{name:"A (High Value)",value:e.A,color:"#10b981"},{name:"B (Medium)",value:e.B,color:"#06b6d4"},{name:"C (Low Value)",value:e.C,color:"#8b5cf6"}]},[y]),k=(0,a.useMemo)(()=>{if(!y)return[];let e={X:0,Y:0,Z:0};return y.forEach(t=>e[t.xyz_class]=(e[t.xyz_class]||0)+1),[{name:"X (Stable)",value:e.X,color:"#10b981"},{name:"Y (Variable)",value:e.Y,color:"#f59e0b"},{name:"Z (Erratic)",value:e.Z,color:"#f43f5e"}]},[y]),X=Object.entries(C).sort((e,t)=>t[1]-e[1]).map(([e,t])=>({name:e,value:t,color:p[e]||"#6b7280"}));return(0,t.jsxs)("div",{className:"flex min-h-screen",children:[(0,t.jsx)(i.Sidebar,{}),(0,t.jsxs)("main",{className:"flex-1 ml-64 p-6",children:[(0,t.jsx)(r.Header,{title:"ABC-XYZ Segmentation",subtitle:"Classify SKUs by value and demand variability",onRefresh:w,isRefreshing:N}),(0,t.jsxs)(l.PageTransition,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsx)(d.StatCard,{title:"Total SKUs",value:S,icon:(0,t.jsx)(g,{className:"w-6 h-6"}),color:"cyan",delay:0}),(0,t.jsx)(d.StatCard,{title:"Segments",value:Object.keys(C).length,icon:(0,t.jsx)(m.Grid3X3,{className:"w-6 h-6"}),color:"violet",delay:.1}),(0,t.jsx)(d.StatCard,{title:"High Value (A)",value:B.find(e=>e.name.startsWith("A"))?.value||0,icon:(0,t.jsx)(b.TrendingUp,{className:"w-6 h-6"}),color:"emerald",delay:.2}),(0,t.jsx)(d.StatCard,{title:"Erratic Demand (Z)",value:k.find(e=>e.name.startsWith("Z"))?.value||0,icon:(0,t.jsx)(u.BarChart3,{className:"w-6 h-6"}),color:"rose",delay:.3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-6",children:[N?(0,t.jsx)(x.ChartSkeleton,{height:400}):(0,t.jsx)(n.SegmentMatrix,{data:A,title:"ABC-XYZ Matrix"}),N?(0,t.jsx)(x.ChartSkeleton,{height:400}):(0,t.jsx)(o.AnimatedBarChart,{data:X,title:"SKUs by Segment",height:350})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-6",children:[N?(0,t.jsx)(x.ChartSkeleton,{height:300}):(0,t.jsx)(c.DonutChart,{data:B,title:"ABC Classification (Value)",height:250}),N?(0,t.jsx)(x.ChartSkeleton,{height:300}):(0,t.jsx)(c.DonutChart,{data:k,title:"XYZ Classification (Variability)",height:250})]}),(0,t.jsxs)(d.GlassCard,{className:"p-6",hover:!1,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"SKU Details"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-white/60",children:"Filter by segment:"}),(0,t.jsxs)("select",{value:e||"",onChange:e=>f(e.target.value||void 0),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-white focus:outline-none focus:border-cyan-500/50",children:[(0,t.jsx)("option",{value:"",children:"All Segments"}),Object.keys(C).sort().map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),N?(0,t.jsx)(x.TableSkeleton,{rows:8}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"data-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"SKU ID"}),(0,t.jsx)("th",{children:"Location"}),(0,t.jsx)("th",{children:"Segment"}),(0,t.jsx)("th",{children:"ABC"}),(0,t.jsx)("th",{children:"XYZ"}),(0,t.jsx)("th",{children:"Total Quantity"}),(0,t.jsx)("th",{children:"CV"}),(0,t.jsx)("th",{children:"Action"})]})}),(0,t.jsx)("tbody",{children:y?.slice(0,20).map((e,a)=>(0,t.jsxs)(s.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.03*a},children:[(0,t.jsx)("td",{children:(0,t.jsx)(v.default,{href:`/sku/${e.item_id}`,className:"text-cyan-400 hover:text-cyan-300 font-medium",children:e.item_id})}),(0,t.jsx)("td",{className:"text-white/70",children:e.location_id}),(0,t.jsx)("td",{children:(0,t.jsx)(n.SegmentBadge,{segment:e.segment})}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:`font-medium ${"A"===e.abc_class?"text-emerald-400":"B"===e.abc_class?"text-cyan-400":"text-violet-400"}`,children:e.abc_class})}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:`font-medium ${"X"===e.xyz_class?"text-emerald-400":"Y"===e.xyz_class?"text-amber-400":"text-rose-400"}`,children:e.xyz_class})}),(0,t.jsx)("td",{className:"text-white",children:e.total_quantity.toLocaleString()}),(0,t.jsx)("td",{className:"text-white/70",children:e.coefficient_of_variation.toFixed(2)}),(0,t.jsx)("td",{children:(0,t.jsx)(v.default,{href:`/sku/${e.item_id}`,children:(0,t.jsx)(j.GlowButton,{variant:"secondary",size:"sm",children:"View"})})})]},`${e.item_id}-${e.location_id}`))})]})})]})]})]})]})}e.s(["default",()=>f],47403)}]);