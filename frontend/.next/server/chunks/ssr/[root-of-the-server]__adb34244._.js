module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},55486,a=>{"use strict";var b=a.i(87924),c=a.i(46271);let d={critical:"bg-rose-500/20 text-rose-400 border-rose-500/30",warning:"bg-amber-500/20 text-amber-400 border-amber-500/30",success:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",info:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",default:"bg-white/10 text-white/70 border-white/20"},e={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-xs",lg:"px-4 py-1.5 text-sm"};function f({children:a,variant:f="default",size:g="md",pulse:h=!1,icon:i,className:j=""}){return(0,b.jsxs)(c.motion.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`
        inline-flex items-center gap-1.5 rounded-full border font-semibold
        ${d[f]}
        ${e[g]}
        ${j}
      `,children:[h&&(0,b.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,b.jsx)("span",{className:`
              animate-ping absolute inline-flex h-full w-full rounded-full opacity-75
              ${"critical"===f?"bg-rose-400":""}
              ${"warning"===f?"bg-amber-400":""}
              ${"success"===f?"bg-emerald-400":""}
              ${"info"===f?"bg-cyan-400":""}
              ${"default"===f?"bg-white/50":""}
            `}),(0,b.jsx)("span",{className:`
              relative inline-flex rounded-full h-2 w-2
              ${"critical"===f?"bg-rose-500":""}
              ${"warning"===f?"bg-amber-500":""}
              ${"success"===f?"bg-emerald-500":""}
              ${"info"===f?"bg-cyan-500":""}
              ${"default"===f?"bg-white/70":""}
            `})]}),i,a]})}let g={P1_CRITICAL:{label:"Critical",variant:"critical"},P2_HIGH:{label:"High",variant:"warning"},P3_MEDIUM:{label:"Medium",variant:"info"},P4_LOW:{label:"Low",variant:"default"},P5_INFO:{label:"Info",variant:"success"}};function h({priority:a}){let c=g[a];return(0,b.jsx)(f,{variant:c.variant,pulse:"P1_CRITICAL"===a,children:c.label})}let i={ACTIVE:{label:"Active",variant:"success"},SLOW_MOVING:{label:"Slow Moving",variant:"warning"},NON_MOVING:{label:"Non-Moving",variant:"critical"},DEAD_STOCK:{label:"Dead Stock",variant:"critical"}};function j({status:a}){let c=i[a];return(0,b.jsx)(f,{variant:c.variant,pulse:"DEAD_STOCK"===a||"NON_MOVING"===a,children:c.label})}a.s(["Badge",()=>f,"MovementBadge",()=>j,"PriorityBadge",()=>h])},4904,a=>{"use strict";var b=a.i(87924),c=a.i(46271);function d({className:a="",variant:c="rectangular",width:d,height:e}){return(0,b.jsx)("div",{className:`skeleton ${{text:"rounded",circular:"rounded-full",rectangular:"rounded-xl"}[c]} ${a}`,style:{width:d,height:e||("text"===c?"1em":void 0)}})}function e(){return(0,b.jsxs)("div",{className:"glass-card p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(d,{width:120,height:16,variant:"text"}),(0,b.jsx)(d,{width:40,height:40,variant:"circular"})]}),(0,b.jsx)(d,{width:80,height:32,variant:"text"}),(0,b.jsx)(d,{width:"100%",height:8,variant:"text"})]})}function f({height:a=300}){return(0,b.jsxs)("div",{className:"glass-card p-6",children:[(0,b.jsx)(d,{width:150,height:20,variant:"text",className:"mb-4"}),(0,b.jsx)("div",{className:"flex items-end gap-2 justify-around",style:{height:a-60},children:[40,65,45,80,55,70,50].map((a,e)=>(0,b.jsx)(c.motion.div,{initial:{height:0},animate:{height:`${a}%`},transition:{duration:.5,delay:.1*e},children:(0,b.jsx)(d,{width:40,height:"100%"})},e))})]})}function g({rows:a=5}){return(0,b.jsxs)("div",{className:"glass-card overflow-hidden",children:[(0,b.jsx)("div",{className:"flex gap-4 p-4 border-b border-white/10",children:[100,150,120,80,100].map((a,c)=>(0,b.jsx)(d,{width:a,height:12,variant:"text"},c))}),Array.from({length:a}).map((a,c)=>(0,b.jsx)("div",{className:"flex gap-4 p-4 border-b border-white/5 last:border-b-0",children:[100,150,120,80,100].map((a,c)=>(0,b.jsx)(d,{width:a,height:16,variant:"text"},c))},c))]})}a.s(["CardSkeleton",()=>e,"ChartSkeleton",()=>f,"TableSkeleton",()=>g])},53277,a=>{"use strict";let b=(0,a.i(70106).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["TrendingDown",()=>b],53277)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],84505)},78330,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(8547),f=a.i(43218),g=a.i(81297),h=a.i(23517),i=a.i(55486),j=a.i(85344),k=a.i(4904),l=a.i(65761),m=a.i(24669),n=a.i(53277),o=a.i(70106);let p=(0,o.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),q=(0,o.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var r=a.i(84505),s=a.i(15170),t=a.i(38246);function u(){let[a,o]=(0,c.useState)(),[u,v]=(0,c.useState)(),{data:w,isLoading:x,refetch:y}=(0,l.useDemandShifts)({location:a,direction:u}),z={total:w?.length||0,increases:w?.filter(a=>"INCREASE"===a.shift_direction).length||0,decreases:w?.filter(a=>"DECREASE"===a.shift_direction).length||0,stable:w?.filter(a=>"STABLE"===a.shift_direction).length||0},A=[{name:"Increase",value:z.increases,color:"#10b981"},{name:"Decrease",value:z.decreases,color:"#f43f5e"},{name:"Stable",value:z.stable,color:"#6b7280"}],B=[...new Set(w?.map(a=>a.location_id)||[])];return(0,b.jsxs)("div",{className:"flex min-h-screen",children:[(0,b.jsx)(e.Sidebar,{}),(0,b.jsxs)("main",{className:"flex-1 ml-64 p-6",children:[(0,b.jsx)(f.Header,{title:"Demand Shifts",subtitle:"Detect and analyze changes in demand patterns",onRefresh:y,isRefreshing:x}),(0,b.jsxs)(g.PageTransition,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,b.jsx)(h.StatCard,{title:"Total Shifts",value:z.total,icon:(0,b.jsx)(q,{className:"w-6 h-6"}),color:"cyan",delay:0}),(0,b.jsx)(h.StatCard,{title:"Increases",value:z.increases,icon:(0,b.jsx)(m.TrendingUp,{className:"w-6 h-6"}),color:"emerald",delay:.1}),(0,b.jsx)(h.StatCard,{title:"Decreases",value:z.decreases,icon:(0,b.jsx)(n.TrendingDown,{className:"w-6 h-6"}),color:"rose",delay:.2}),(0,b.jsx)(h.StatCard,{title:"Stable",value:z.stable,icon:(0,b.jsx)(p,{className:"w-6 h-6"}),color:"violet",delay:.3})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-6",children:[(0,b.jsx)("div",{className:"xl:col-span-1",children:x?(0,b.jsx)(k.ChartSkeleton,{height:300}):(0,b.jsx)(j.DonutChart,{data:A,title:"Shift Distribution",height:250})}),(0,b.jsx)("div",{className:"xl:col-span-2",children:(0,b.jsxs)(h.GlassCard,{className:"p-6 h-full",hover:!1,children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Filters"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-white/60 mb-2 block",children:"Location"}),(0,b.jsxs)("select",{value:a||"",onChange:a=>o(a.target.value||void 0),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:border-cyan-500/50 min-w-[150px]",children:[(0,b.jsx)("option",{value:"",children:"All Locations"}),B.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-white/60 mb-2 block",children:"Direction"}),(0,b.jsxs)("select",{value:u||"",onChange:a=>v(a.target.value||void 0),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-white focus:outline-none focus:border-cyan-500/50 min-w-[150px]",children:[(0,b.jsx)("option",{value:"",children:"All Directions"}),(0,b.jsx)("option",{value:"INCREASE",children:"Increase"}),(0,b.jsx)("option",{value:"DECREASE",children:"Decrease"}),(0,b.jsx)("option",{value:"STABLE",children:"Stable"})]})]}),(0,b.jsxs)("div",{className:"flex items-end gap-2 ml-auto",children:[(0,b.jsx)(s.GlowButton,{variant:"secondary",size:"md",onClick:()=>{o(void 0),v(void 0)},children:"Clear"}),(0,b.jsx)(s.IconButton,{icon:(0,b.jsx)(r.Download,{className:"w-5 h-5"}),tooltip:"Export CSV",color:"cyan"})]})]})]})})]}),(0,b.jsxs)(h.GlassCard,{className:"p-6",hover:!1,children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Demand Shift Details"}),x?(0,b.jsx)(k.TableSkeleton,{rows:8}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"data-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"SKU ID"}),(0,b.jsx)("th",{children:"Location"}),(0,b.jsx)("th",{children:"Direction"}),(0,b.jsx)("th",{children:"Magnitude"}),(0,b.jsx)("th",{children:"Confidence"}),(0,b.jsx)("th",{children:"Detection Method"}),(0,b.jsx)("th",{children:"Start Date"}),(0,b.jsx)("th",{children:"Action"})]})}),(0,b.jsx)("tbody",{children:w?.slice(0,20).map((a,c)=>(0,b.jsxs)(d.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.03*c},children:[(0,b.jsx)("td",{children:(0,b.jsx)(t.default,{href:`/sku/${a.item_id}`,className:"text-cyan-400 hover:text-cyan-300 font-medium",children:a.item_id})}),(0,b.jsx)("td",{className:"text-white/70",children:a.location_id}),(0,b.jsx)("td",{children:(0,b.jsxs)(i.Badge,{variant:"INCREASE"===a.shift_direction?"success":"DECREASE"===a.shift_direction?"critical":"default",children:["INCREASE"===a.shift_direction&&(0,b.jsx)(m.TrendingUp,{className:"w-3 h-3"}),"DECREASE"===a.shift_direction&&(0,b.jsx)(n.TrendingDown,{className:"w-3 h-3"}),"STABLE"===a.shift_direction&&(0,b.jsx)(p,{className:"w-3 h-3"}),a.shift_direction]})}),(0,b.jsxs)("td",{className:"text-white font-medium",children:[(100*a.shift_magnitude).toFixed(1),"%"]}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-16 h-2 bg-white/10 rounded-full overflow-hidden",children:(0,b.jsx)(d.motion.div,{initial:{width:0},animate:{width:`${100*a.confidence_score}%`},transition:{delay:.03*c+.2,duration:.5},className:"h-full bg-gradient-to-r from-cyan-500 to-violet-500"})}),(0,b.jsxs)("span",{className:"text-white/60 text-sm",children:[(100*a.confidence_score).toFixed(0),"%"]})]})}),(0,b.jsx)("td",{className:"text-white/50 text-sm",children:a.detection_method}),(0,b.jsx)("td",{className:"text-white/50 text-sm",children:new Date(a.shift_start_date).toLocaleDateString()}),(0,b.jsx)("td",{children:(0,b.jsx)(t.default,{href:`/sku/${a.item_id}`,children:(0,b.jsx)(s.GlowButton,{variant:"secondary",size:"sm",children:"View"})})})]},`${a.item_id}-${a.location_id}`))})]})}),w&&w.length>20&&(0,b.jsxs)("p",{className:"text-center text-white/50 mt-4",children:["Showing 20 of ",w.length," results"]})]})]})]})]})}a.s(["default",()=>u],78330)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__adb34244._.js.map